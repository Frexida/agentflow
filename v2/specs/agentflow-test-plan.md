# AgentFlow Test Plan

Generated by: red (planner agent)
Date: 2026-02-23
Target: https://agentflow.frexida.com

---

## 1. Landing Page (Public)

**URL:** `/`

### 1.1 Basic Load
- [ ] Page title contains "AgentFlow"
- [ ] Hero heading: "Design AI Agent Organizations Visually"
- [ ] Two CTA buttons visible: "Try the Editor ‚Üí" and "Sign In to Save & Chat"
- [ ] Navigation bar with: Features, How it works, Pricing, FAQ, GitHub, Sign In, Get Started

### 1.2 Stats Section
- [ ] Shows "6 AGENT ROLES", stats about organizations, export time, MIT license

### 1.3 Features Section
- [ ] "Everything you need to design agent teams" heading visible
- [ ] 6 feature cards visible (Visual Org Designer, Power User Ready, Gateway Integration, Multi-Format Export, Task-Driven Design, Cloud + Self-Host)

### 1.4 How It Works (4 Steps)
- [ ] "From idea to deployment in 4 steps"
- [ ] Steps: Design, Connect, Configure, Deploy

### 1.5 Pricing Section
- [ ] 3 pricing tiers: Free ($0), Pro ($19/mo), Team ($49/mo)
- [ ] Pro tier highlighted as "Popular"
- [ ] Free tier is default

### 1.6 FAQ Section
- [ ] At least 5 FAQ items visible (collapsed by default)
- [ ] FAQ items expand/collapse on click

### 1.7 Footer
- [ ] Footer with Product, Resources, Company sections
- [ ] Links: Editor, Dashboard, Pricing, OpenClaw docs, Blog, Terms, Privacy

### 1.8 CTA Navigation
- [ ] "Try the Editor ‚Üí" ‚Üí navigates to `/editor/demo`
- [ ] "Sign In to Save & Chat" ‚Üí navigates to `/login`
- [ ] "Get Started" button ‚Üí navigates to `/login` or `/editor/demo`

---

## 2. Authentication (Login/Signup)

**URL:** `/login`

### 2.1 Login Page Load
- [ ] Login form visible with email/password fields
- [ ] "Continue with GitHub" OAuth button present
- [ ] "Sign Up" link present for new users

### 2.2 Auth Redirect
- [ ] Authenticated users visiting `/login` are redirected to `/dashboard`
- [ ] Unauthenticated users visiting `/settings` are redirected to `/login`
- [ ] Unauthenticated users visiting `/dashboard` are redirected to `/login`

### 2.3 GitHub OAuth Flow
- [ ] Clicking "Continue with GitHub" initiates OAuth flow
- [ ] Successful auth redirects to `/dashboard`

---

## 3. Dashboard (Authenticated)

**URL:** `/dashboard`

### 3.1 Dashboard Load
- [ ] "Dashboard" heading visible
- [ ] "Sign Out" button visible (top bar)
- [ ] "Settings" link visible (top bar)
- [ ] "+ New Organization" button visible

### 3.2 Stats Cards
- [ ] Designs count card (shows number)
- [ ] Active Agents count card
- [ ] Total Sessions count card
- [ ] Gateway status card (Connected/Disconnected)

### 3.3 Designs List
- [ ] "Your Designs" section heading
- [ ] Design cards with name and last-updated timestamp
- [ ] Clicking a design opens the editor (`/editor/[id]`)

### 3.4 New Design
- [ ] "+ New Organization" creates a new design
- [ ] User is redirected to `/editor/[new-id]`

### 3.5 Sidebar Navigation
- [ ] Dashboard link (active state)
- [ ] Editor link ‚Üí `/editor/demo`
- [ ] Settings link ‚Üí `/settings`
- [ ] Gateway status indicator (bottom)

---

## 4. Editor - Demo Mode (Public)

**URL:** `/editor/demo`

### 4.1 Demo Mode Indicator
- [ ] "Demo mode ‚Äî designs won't be saved" banner visible at top
- [ ] "Sign in for full access" button in banner

### 4.2 Editor Canvas Load
- [ ] React Flow canvas renders
- [ ] Default 6 agents displayed: Coordinator, Planner, Developer, Researcher, Writer, Reviewer
- [ ] 6 edges connecting agents (status bar confirms)
- [ ] Agent nodes show role icon, name, model, status

### 4.3 Agent Node States
- [ ] Active agents show green dot (‚óè)
- [ ] Idle agents show grey dot
- [ ] Offline agents shown appropriately

### 4.4 Toolbar (Top)
- [ ] "+ Add Agent" button
- [ ] "Auto Layout" button
- [ ] "Groups" button
- [ ] "Graph" button (active by default)
- [ ] Undo / Redo buttons
- [ ] "Save" button (disabled in demo mode)
- [ ] "Export" button
- [ ] "Versions" button

### 4.5 Right Sidebar Toolbar
- [ ] ‚úèÔ∏è (Edit) button
- [ ] üí¨ (Chat) button
- [ ] üìã (Properties) button

### 4.6 Chat Panel (Demo Mode)
- [ ] Clicking üí¨ button opens Chat panel (right slide-in)
- [ ] "Chat" header with connection status dot
- [ ] "SELECT AN AGENT" label visible
- [ ] "Group" button visible
- [ ] "Connect to Gateway first" message shown (demo/disconnected mode)

### 4.7 MiniMap
- [ ] MiniMap visible in bottom-right corner
- [ ] MiniMap shows all agent nodes

### 4.8 Status Bar
- [ ] Bottom status bar shows: connection status, agent count, edge count, zoom %
- [ ] In demo mode: "Disconnected | 6 agents | 6 edges | 124%"

### 4.9 Control Panel
- [ ] Zoom In / Zoom Out buttons
- [ ] Fit View button
- [ ] Toggle Interactivity button

---

## 5. Editor - Authenticated Mode

**URL:** `/editor/[design-id]`

### 5.1 Authenticated Editor Load
- [ ] No "Demo mode" banner
- [ ] Save button is enabled
- [ ] "Versions (N)" button shows version count

### 5.2 Gateway Auto-Connect
- [ ] Editor automatically connects to Gateway on load
- [ ] Status bar shows "Connected" after load (when Gateway is configured)
- [ ] `useGatewayAutoConnect` hook fires on mount

### 5.3 Chat Panel (Connected Mode)
- [ ] üí¨ button always visible (even when disconnected)
- [ ] When Gateway Connected: Chat panel shows session list or "No sessions found"
- [ ] When Gateway Disconnected: "Connect to Gateway first" message
- [ ] "Group" button for group chat sessions

### 5.4 Save Functionality
- [ ] Clicking "Save" saves the design
- [ ] Toast/confirmation appears on save
- [ ] Version count increments

### 5.5 Export
- [ ] "Export" button opens export dialog
- [ ] Options include: YAML, PNG, SVG (or similar)
- [ ] Export generates file download

---

## 6. Settings (Authenticated)

**URL:** `/settings`

### 6.1 Settings Page Load
- [ ] "Settings" heading
- [ ] Three sections: Gateway, API Keys, Plan & Billing
- [ ] "‚Üê Dashboard" back link at bottom

### 6.2 Gateway Section
- [ ] "Gateway" section heading
- [ ] Connected/Disconnected status badge
- [ ] "Cloud (Automatic)" and "Self-Host" tabs
- [ ] Cloud mode: Status, Region, URL displayed
- [ ] Toggle switch for connect/disconnect
- [ ] "Destroy" button (when connected)

### 6.3 Gateway Connection
- [ ] Toggle to Connected: status shows "started", green dot
- [ ] Toggle to Disconnected: status clears
- [ ] Connected state persists to Editor page (via auto-connect hook)

### 6.4 API Keys Section
- [ ] "API Keys" section heading
- [ ] Anthropic API Key field with save/remove
- [ ] OpenAI API Key field (optional)
- [ ] "Key saved" confirmation when key is set
- [ ] Keys are masked (sk-ant-oat...)

### 6.5 Plan & Billing Section (PricingCards)
- [ ] "Plan & Billing" section heading
- [ ] Three plan cards: Free, Pro, Team
- [ ] Free: $0/mo, "Current Plan" badge (for free users)
- [ ] Pro: $19/mo, "Upgrade to Pro" button
- [ ] Team: $49/mo, "Upgrade to Team" button
- [ ] Feature lists for each plan

---

## 7. Cross-Page Flows

### 7.1 Auth Flow (Full)
1. Visit `/` ‚Üí click "Sign In to Save & Chat"
2. `/login` loads with GitHub OAuth and email form
3. Login ‚Üí redirect to `/dashboard`
4. Dashboard shows designs list

### 7.2 Design Lifecycle
1. Dashboard ‚Üí "+ New Organization"
2. Editor opens for new design
3. Add/edit agents
4. Save ‚Üí version increments
5. Return to Dashboard ‚Üí design appears in list

### 7.3 Gateway ‚Üí Chat Flow
1. `/settings` ‚Üí enable Gateway (Cloud Automatic)
2. Status shows Connected
3. Navigate to `/editor/[id]`
4. Left status bar shows "Connected" (auto-connect)
5. Click üí¨ ‚Üí Chat panel opens
6. Sessions listed (or "No sessions found")

---

## Acceptance Criteria

### PASS
- All assertions in a scenario meet expectations
- No console errors during flow
- Response times < 3s for page loads
- Visual elements match expected positions

### FAIL  
- Any assertion fails
- Console errors blocking functionality
- Page fails to load (4xx, 5xx)
- Redirect loop or missing redirect

---

*This plan was generated by red (browser exploration) and is designed to be used with*
*Playwright Test Agents generator to produce `tests/*.spec.ts` files.*
